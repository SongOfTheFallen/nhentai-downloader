# nhentai Downloader

A tool to download and read nhentai doujinshi locally, featuring an intuitive and user-friendly web interface.

> **Note:**
> Backend developed manually; frontend fully generated by AI.

## Frontend UI Preview


<img width="1202" alt="nhentai-downloader-image-demo-censored" src="https://github.com/user-attachments/assets/d2de2b38-03df-4d3c-a569-0ef76b9b2efa" />


## Features

* Downloads manga/doujinshi from [nhentai.net](https://nhentai.net).
* Provides a convenient and responsive local web UI.
* Downloading feature in PDF and compressed archive.

## Installation and Usage

1. Install dependencies for both parts:

```bash
npm run install:all
```

2. Create environment files:

```bash
cp backend/.env.example backend/.env
cp frontend/.env.example frontend/.env
```

3. Run development servers:

```bash
npm run dev
```

During development the frontend is served on http://localhost:8787 while the backend API listens on http://localhost:5173.
The default password is `changeme` and can be changed in `backend/.env`.
If `VITE_API_PASSWORD` is left empty in the frontend `.env` file, a login
screen will prompt users for the backend password and store it in the browser.
Otherwise all requests automatically include the password in an `Authorization`
header, e.g. `Authorization: Bearer changeme`.
If you set `VITE_USER_PASSWORD` in the frontend `.env` file, visitors must enter
that password on the login screen. It will be kept in a cookie so subsequent
page loads are allowed.
You may also set `HOST` and `PORT` there to bind the backend to a different address.
If the backend runs elsewhere, update `VITE_API_BASE_URL` in `frontend/.env`.

The endpoint `/api/stats` returns the total number of pages and the size of the manga directory in bytes.

4. Build the frontend for production:

```bash
npm run build
```

The `frontend/dist` directory can be deployed to any static host.

## Docker Deployment

Both components can be built as containers using the provided `docker-compose.yml` files located in `backend/` and `frontend/`.

```bash
# start the API
cd backend && docker compose up -d
# build and serve the frontend
cd ../frontend && docker compose up -d
```

Environment variables in `.env` files are automatically picked up during build.
The backend responds to `OPTIONS` requests so the frontend can connect from
other origins without additional configuration.

## Compatibility

This program was developed, tested, and runs with Python 3.13. It is expected to be compatible with Python 3.11 and may also work on Python 3.10, but it will not function correctly on versions earlier than 3.10.

## Project Status

This project is currently experimental. The backend sequentially and synchronously downloads doujinshi starting from the first available entry. Planned improvements include:

* Support for downloading specific or random doujinshi.
* Implementing asynchronous downloading for enhanced performance.
* General backend optimizations for improved functionality.
